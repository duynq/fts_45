<%= form_for [:admin, @question] do |f| %>

  <%= render "shared/error_messages", object: f.object %>

  <%= f.label :name %>
  <%= f.text_field :name, class: "form-control" %>

  <div class="form-group" >
    <%= f.label :subject_id %>
    <%= f.select :subject_id,options_for_select(@subjects.map{|c| [c.name, c.id]},
      selected_key = f.object.subject_id), {}, class: "form-control" %>
  </div>

  <div class="form-group" >
    <%= f.select :type, options_for_select({single: 0, multi: 1, text: 2}), class: "form-control" %>
  </div>

  <div id="answers" >
    <%= f.fields_for :answers do |answer_form| %>
      <%= render "shared/error_messages", object: answer_form.object %>
      <%= render "answer_form", f: answer_form  %>
    <% end %>
  </div>

  <div class="add-answer" >
    <%= add_child_button t("admin.question.addanswer"), :answers, "#answers" %>
    <%= new_fields_template f, :answers %>
  </div>

  <%= f.submit t("admin.question.submit"), class: "btn btn-primary" %>
<% end %>
