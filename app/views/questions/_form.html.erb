<%= form_for @question do |f| %>

  <%= f.hidden_field :status, value: "inactive" %>
  <%= f.label :name %>
  <%= f.text_field :name, class: "form-control" %>

  <div class="form-group" >
    <%= f.label :subject_id %>

    <%= f.select :subject_id, options_for_select(@subjects.map{|c| [c.name, c.id]},
      selected_key = f.object.subject_id), {}, class: "form-control" %>
  </div>

  <div class="form-group" >
    <%= f.select :question_type,
      options_for_select({single: :single, multiple: :multiple, text: :text}), {} ,
      class: "form-control" %>
  </div>
  <div id="answers_multiple" >
    <%= f.fields_for :answers do |answer_form| %>
      <%= render "answer_form", f: answer_form  %>
    <% end %>
  </div>

  <div id="addanswer" class="add-answer answer" name="answer" >
    <%= add_child_button t("admin.question.addanswer"), :answers, "#answers_multiple" %>
    <%= new_fields_template f, :answers %>
  </div>
  <div id="answers_text" >
    <%= f.fields_for :answers do |answer_text| %>
      <%= render "answer_text", f: answer_text  %>
    <% end %>
  </div>


  <%= f.submit t("admin.question.submit"), class: "btn btn-primary" %>
<% end %>
